<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>MyProject — Просмотр тикета</title>
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="account-style.css"> 
<link rel="stylesheet" href="ticket-style.css"> 
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@500&display=swap" rel="stylesheet">
</head>
<body>

<header>
  <div class="logo">
    <svg width="34" height="34" viewBox="0 0 24 24" fill="none">
        <rect x="1" y="1" width="22" height="22" rx="6" fill="#111"/>
        <circle cx="8.5" cy="10.5" r="3.3" fill="#635bff"/>
        <circle cx="15.5" cy="13.7" r="2.2" fill="#f6f7fb" opacity="0.06"/>
    </svg>
    CBWORLDS
  </div>
  <nav>
    <a href="index.html">Главная</a>
    <a href="#">Как играть</a>
    <a href="support.html">Поддержка</a>
  </nav>
  <div id="userSection"></div>
  <button class="mobile-menu-btn" aria-label="Открыть меню">
    <span></span><span></span><span></span>
  </button>
</header>

<main>
  <div class="wrap">
    <div class="ticket-chat-container">
      <div class="ticket-header">
        <a href="account.html" class="btn-back">&larr; Вернуться к обращениям</a>
        <h1 id="ticket-title">Загрузка тикета...</h1>
        <button id="close-ticket-btn" class="btn btn-secondary btn-danger" style="margin-left: auto; display: none;">Закрыть тикет</button>
      </div>
      <div id="chat-box" class="chat-box">
        <div class="skeleton-message"></div>
        <div class="skeleton-message user"></div>
      </div>
      <form id="message-form" class="message-form">
        <textarea name="message" placeholder="Введите ваше сообщение..." required></textarea>
        <button type="submit" class="btn btn-primary">Отправить</button>
      </form>
    </div>
  </div>

  <div id="confirmation-modal" class="confirmation-modal">
    <div class="confirmation-modal-content">
      <h2 class="confirmation-modal-title">Подтверждение</h2>
      <p class="confirmation-modal-text">Вы уверены, что хотите закрыть этот тикет? Вы больше не сможете отправлять сообщения.</p>
      <div class="confirmation-modal-actions">
        <button id="cancel-close-btn" class="btn btn-secondary">Отмена</button>
        <button id="confirm-close-btn" class="btn btn-primary">Закрыть тикет</button>
      </div>
    </div>
  </div>
</main>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="auth.js"></script>
<script src="ticket.js"></script> 
<script src="transition.js"></script>
</body>
</html>
